(this["webpackJsonpgot-api-app"]=this["webpackJsonpgot-api-app"]||[]).push([[0],{29:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c,r=n(21),a=n.n(r),s=(n(29),n(10)),l=n(3),i=n(2),o=n.n(i),u=n(5),j=n(9),d=n(1);!function(e){e[e.NotSelected=0]="NotSelected",e[e.Male=1]="Male",e[e.Female=2]="Female",e[e.Unknown=3]="Unknown"}(c||(c={}));var b=n(22),h=n.n(b),p="https://www.anapioficeandfire.com/api",x=function(){var e=Object(u.a)(o.a.mark((function e(t,n,r,a){var s,l,i,u,j,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={},l="".concat(p,"/characters?page=").concat(a,"&pageSize=").concat(t),0!==n&&(i=n!==c.Unknown?c[n]:"",l="".concat(l,"&gender=").concat(i)),r&&(l="".concat(l,"&culture=").concat(r)),e.next=7,fetch(l);case 7:return u=e.sent,e.next=10,u.json();case 10:return s.characters=e.sent,(j=u.headers.get("link"))&&(d=h()(j))&&(s.links=d),console.log(s),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.t0;case 21:return e.prev=21,e.finish(21);case 23:case"end":return e.stop()}}),e,null,[[0,17,21,23]])})));return function(t,n,c,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(p,"/houses/").concat(t),e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.t0;case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[0,11,15,17]])})));return function(t){return e.apply(this,arguments)}}(),f=n(24),v=n(0),g=function(e){var t=e.charactersArray,n=Object(d.useState)([]),c=Object(j.a)(n,2),r=c[0],a=c[1];Object(d.useEffect)((function(){a(t)}),[t]);var l=function(e,t){var n,c="",r=[];(t&&t.length>0&&(r=Object(f.a)(t)),e)&&(null===(n=r)||void 0===n||n.unshift(e));r&&(c=r.filter((function(e){return""!==e})).join(", "));return c},i=function(e,t){var n="";if(e&&t){var c=e.match(/\d+/),r=t.match(/\d+/);if(c&&c.length>0&&r&&r.length>0){var a=parseInt(r[0])-parseInt(c[0]);n="No, died at ".concat(a," years old")}}else e&&!t&&(n="Yes");return n},o=function(e){var t=null===e||void 0===e?void 0:e.length;return Object(v.jsx)(v.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e,n){var c=u(e),r="/house-details/".concat(c);return Object(v.jsxs)("span",{children:[Object(v.jsx)(s.b,{to:r,children:c},"link_".concat(c)),t!==n+1?", ":null]},"span_".concat(c))}))})},u=function(e){var t=e.split("/");return parseInt(t[t.length-1])},b=function(e){var t=0;return e&&(t=e.length),t},h=r.map((function(e){var t=u(e.url);return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:l(e.name,e.aliases)},"col_key_name_".concat(t)),Object(v.jsx)("td",{children:i(e.born,e.died)},"col_key_alive_".concat(t)),Object(v.jsx)("td",{children:e.gender?e.gender:"Unknown"},"col_key_gender_".concat(t)),Object(v.jsx)("td",{children:e.culture?e.culture:"Unknown"},"col_key_culture_".concat(t)),Object(v.jsx)("td",{children:o(e.allegiances)},"col_key_allegiances_".concat(t)),Object(v.jsx)("td",{children:b(e.books)},"col_key_books_".concat(t))]},"row_key_url_".concat(t))}));return Object(v.jsxs)("table",{className:"table table-sm table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Character"}),Object(v.jsx)("th",{scope:"col",children:"Alive"}),Object(v.jsx)("th",{scope:"col",children:"Gender"}),Object(v.jsx)("th",{scope:"col",children:"Culture"}),Object(v.jsx)("th",{scope:"col",children:"Allegiances"}),Object(v.jsx)("th",{scope:"col",children:"# of Books"})]})}),Object(v.jsx)("tbody",{children:h})]})},m=function(e){return Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsx)("div",{className:"input-group-prepend",children:Object(v.jsx)("label",{className:"input-group-text",children:"Gender"})}),Object(v.jsxs)("select",{className:"custom-select",value:e.gender,onChange:function(t){e.handleChangeGender(parseInt(t.target.value))},children:[Object(v.jsx)("option",{value:c.NotSelected,defaultValue:c.NotSelected,children:"Select"}),Object(v.jsx)("option",{value:c.Male,children:"Male"}),Object(v.jsx)("option",{value:c.Female,children:"Female"}),Object(v.jsx)("option",{value:c.Unknown,children:"Unknown"})]})]})},k=function(e){return Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsx)("div",{className:"input-group-prepend",children:Object(v.jsx)("label",{className:"input-group-text",children:"Culture"})}),Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search","aria-label":"Culture","aria-describedby":"basic-addon1",value:e.culture,onChange:function(t){e.handleChangeCulture(t.currentTarget.value)}})]})},w=function(e){var t=e.gender,n=e.culture,c=e.handleChangeGender,r=e.handleChangeCulture,a=e.handleClickSearchCharacters;return Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-2",children:Object(v.jsx)(m,{gender:t,handleChangeGender:c})}),Object(v.jsx)("div",{className:"col-2",children:Object(v.jsx)(k,{culture:n,handleChangeCulture:r})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("button",{type:"button",className:"btn btn-light",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Search"})})]})},N=function(e){var t=e.pageNum,n=e.links,c=e.pageSize,r=e.handleChangePageSize,a=e.handleChangePageNum;return Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("button",{disabled:!n.prev,type:"button",className:"btn btn-secondary",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.first.page);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"first"})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("button",{disabled:!n.prev,type:"button",className:"btn btn-secondary",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.prev.page);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"prev"})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("span",{children:t})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("button",{disabled:!n.next,type:"button",className:"btn btn-secondary",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.next.page);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"next"})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("button",{disabled:!n.next,type:"button",className:"btn btn-secondary",onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.last.page);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"last"})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("div",{className:"input-group mb-3",children:Object(v.jsxs)("select",{className:"custom-select",value:c,onChange:r,children:[Object(v.jsx)("option",{value:"10",children:"10"}),Object(v.jsx)("option",{value:"25",children:"25"}),Object(v.jsx)("option",{value:"50",children:"50"})]})})})]})},C=function(){var e=Object(d.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(d.useState)({}),a=Object(j.a)(r,2),s=a[0],l=a[1],i=Object(d.useState)(0),b=Object(j.a)(i,2),h=b[0],p=b[1],O=Object(d.useState)(""),f=Object(j.a)(O,2),m=f[0],k=f[1],C=Object(d.useState)(25),y=Object(j.a)(C,2),S=y[0],_=y[1],I=Object(d.useState)(1),G=Object(j.a)(I,2),U=G[0],A=G[1];Object(d.useEffect)((function(){z()}),[S]);var z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(S,h,m);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(o.a.mark((function e(t,n,r){var a,s,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:1,e.next=3,x(t,n,r,a);case 3:s=e.sent,c(s.characters),l(s.links);case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(S,h,m);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(t.target.value),_(n),e.next=4,F(n,h,m);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(t),A(n),e.next=4,F(S,h,m,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsx)(w,{gender:h,handleChangeGender:function(e){return p(e)},culture:m,handleChangeCulture:function(e){return k(e)},handleClickSearchCharacters:B}),Object(v.jsx)(g,{charactersArray:n}),Object(v.jsx)(N,{pageNum:U,links:s,pageSize:S,handleChangePageSize:E,handleChangePageNum:M})]})},y=function(){return Object(v.jsx)(s.b,{to:"/",children:Object(v.jsx)("button",{type:"button",className:"btn btn-light",children:"Go back"})})},S=function(e){var t,n,c,r=e.houseDetails;return Object(v.jsx)("table",{className:"table table-sm table-hover",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Name of the House"})}),Object(v.jsx)("td",{children:r.name})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Region"})}),Object(v.jsx)("td",{children:r.region})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Coat of Arms"})}),Object(v.jsx)("td",{children:r.coatOfArms})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Words"})}),Object(v.jsx)("td",{children:r.words})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Titles"})}),Object(v.jsx)("td",{children:null===(t=r.titles)||void 0===t?void 0:t.join(", ")})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Seats"})}),Object(v.jsx)("td",{children:null===(n=r.seats)||void 0===n?void 0:n.join(", ")})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Has died out"})}),Object(v.jsx)("td",{children:r.diedOut?"Yes":"No"})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Has overlord"})}),Object(v.jsx)("td",{children:r.overlord?"Yes":"No"})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("strong",{children:"Number of Cadet Branches"})}),Object(v.jsx)("td",{children:null===(c=r.cadetBranches)||void 0===c?void 0:c.length})]})]})})},_=function(){var e=Object(d.useState)({}),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(l.f)().id;Object(d.useEffect)((function(){a()}),[r]);var a=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}if(!((t=parseInt(r))>0)){e.next=7;break}return e.next=5,O(t);case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsx)(y,{}),Object(v.jsx)(S,{houseDetails:n})]})},I=function(){return Object(v.jsx)(s.a,{children:Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:"/",exact:!0,component:C}),Object(v.jsx)(l.a,{path:"/house-details/:id",component:_})]})})};a.a.render(Object(v.jsx)(I,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.0a2a2dae.chunk.js.map